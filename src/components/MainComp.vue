<script setup lang="ts">
import SceneStart from "./SceneStart.vue";
import SceneInstruction from "./SceneInstruction.vue";
import SceneMain1 from "./SceneMain1.vue";
import SceneMain2 from "./SceneMain2.vue";
import SceneWinSilver from "./SceneWinSilver.vue";
import SceneWinGold from "./SceneWinGold.vue";
import PrzegranaSilver from "./PrzegranaSilver.vue";
import PrzegranaGold from "./PrzegranaGold.vue";
import { useMainCompStore } from "../stores/mainCompStore";
import { preloadImages } from "../lib/preloader";
import { images } from "../lib/image-list";
import { onMounted, ref } from "vue";

const store = useMainCompStore();

// preload images
const newImages = ref<string[]>([]);

onMounted(async () => {
  await preloadImages(images);

  newImages.value = images;
});
</script>

<template>
  <main>
    <div>
      <SceneStart v-if="store.ifStart" />
      <SceneInstruction v-if="store.ifInstruction" />
      <SceneMain1 v-if="store.ifMain1" />
      <SceneMain2 v-if="store.ifMain2" />
      <SceneWinSilver v-if="store.ifWinSilver" />
      <SceneWinGold v-if="store.ifWinGold" />
      <PrzegranaSilver v-if="store.ifPrzegranaSilver" />
      <PrzegranaGold v-if="store.ifPrzegranaGold" />
    </div>
  </main>
</template>

<style scoped></style>
